version: 2
jobs:
  build:
    machine: true
    working_directory: ~/repo
    steps:
      - checkout
      - run: docker build --target dev -t node-ts:dev .
      - run: docker run --rm node-ts:dev npm run style
      - run: docker run --rm node-ts:dev npm run lint
      - run: docker run --rm node-ts:dev npm run test

